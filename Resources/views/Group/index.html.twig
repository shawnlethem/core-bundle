{% extends 'base.html.twig' %}

{% trans_default_domain 'VideoGamesRecordsCoreBundle' %}

{% block title %}{{ group.getLibGroup() }} – {{ group.getGame().getLibGame() }}{% endblock %}

{% block body_id 'group_index' %}

{% block body %}
    <h1>{{ group.getLibGroup() }} – {{ group.getGame().getLibGame() }}</h1>

    <table class="group-list">
        <thead>
        <tr>
            <th scope="col">{{ 'group.chart.list'|trans }}</th>
            <th scope="col">{{ 'group.scores'|trans }}</th>
        </tr>
        </thead>
        <tbody>
        {% for chart in group.getCharts %}
            <tr>
                <td><a href="{{ path('vgr_chart_index', {'id': chart.id, 'slug': chart.slug}) }}">{{ chart.getLibChart() }}</a>
                </td>
                <td>{{ chart.getNbPost() }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    {% if is_granted('IS_AUTHENTICATED_REMEMBERED') %}
        <div>
            <a href="{{ path('vgr_group_form', {'id': group.id}) }}">{{ 'form.action'|trans }}</a>
        </div>
    {% endif %}

    <h2>{{ 'group.ranking.point'|trans }}</h2>
    {% include 'VideoGamesRecordsCoreBundle:Ranking:partial/player-points-chart.html.twig' with {'ranking': playerRankingPoints, 'link': path('vgr_group_ranking_player_points', {'id': group.getId()})} %}

    <h2>{{ 'group.ranking.medal'|trans }}</h2>
    {% include 'VideoGamesRecordsCoreBundle:Ranking:partial/player-medals.html.twig' with {'ranking': playerRankingMedals, 'link': path('vgr_group_ranking_player_medals', {'id': group.getId()})} %}

    <h2>{{ 'game.ranking.point'|trans }}</h2>
    {% include 'VideoGamesRecordsCoreBundle:Ranking:partial/team-points-chart.html.twig' with {'ranking': teamRankingPoints, 'link': path('vgr_group_ranking_team_points', {'id': group.getId()})} %}

    <h2>{{ 'game.ranking.medal'|trans }}</h2>
    {% include 'VideoGamesRecordsCoreBundle:Ranking:partial/team-medals.html.twig' with {'ranking': teamRankingMedals, 'link': path('vgr_group_ranking_team_medals', {'id': group.getId()})} %}
{% endblock %}
